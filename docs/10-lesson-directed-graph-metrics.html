<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Social Networks - 10&nbsp; Directed Graph Metrics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./11-lesson-egonet-metrics.html" rel="next">
<link href="./9-lesson-degree-based-graph-metrics.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Social Networks</span>
    </a>
  </div>
          <div class="quarto-toggle-container ms-auto">
              <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
          </div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Directed Graph Metrics</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./social-ties1.jpeg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-lesson-what-are-networks.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">What Are Networks?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-lesson-graph-theory.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Graph Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-lesson-node-neighborhoods.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Nodes and their Neighborhoods</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-lesson-graphs-subgraphs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Graphs and their Subgraphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5-lesson-ties-and-graphs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Types of Ties and Their Graphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6-lesson-other-graphs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Other Types of Graphs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7-lesson-dyads-and-triads.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Dyads and Triads</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8-lesson-graph-metrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Basic Graph Metrics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9-lesson-degree-based-graph-metrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Degree-Based Graph Metrics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-lesson-directed-graph-metrics.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Directed Graph Metrics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-lesson-egonet-metrics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Ego Network Metrics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-lesson-indirect-connections.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Indirect Connections</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13-lesson-directed-indirect-connections.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Directed Indirect Connections</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14-lesson-from-graph-to-matrix.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">From Graph to Matrix</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15-lesson-special-matrices.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Special Matrices</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16-lesson-matrix-operations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Matrix Operations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17-lesson-applied-matrix-operations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Applied Matrix Operations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18-lesson-affiliation-networks.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Affiliation Networks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19-lesson-centrality.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Centrality</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20-lesson-status.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Status</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21-lesson-groups-cliques.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Clique Analysis</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./22-lesson-positions-struct-equiv.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Equivalence and Similarity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./23-lesson-positions-blockmod.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Blockmodeling</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-dyad-census" id="toc-the-dyad-census" class="nav-link active" data-scroll-target="#the-dyad-census"><span class="toc-section-number">10.1</span>  The Dyad Census</a>
  <ul class="collapse">
  <li><a href="#advanced-topic-mechanics-of-the-dyad-census" id="toc-advanced-topic-mechanics-of-the-dyad-census" class="nav-link" data-scroll-target="#advanced-topic-mechanics-of-the-dyad-census"><span class="toc-section-number">10.1.1</span>  Advanced topic: Mechanics of the dyad census</a></li>
  </ul></li>
  <li><a href="#advanced-topic-the-triad-census" id="toc-advanced-topic-the-triad-census" class="nav-link" data-scroll-target="#advanced-topic-the-triad-census"><span class="toc-section-number">10.2</span>  Advanced Topic: The Triad Census</a></li>
  <li><a href="#graph-reciprocity" id="toc-graph-reciprocity" class="nav-link" data-scroll-target="#graph-reciprocity"><span class="toc-section-number">10.3</span>  Graph Reciprocity</a></li>
  <li><a href="#graph-connectedness" id="toc-graph-connectedness" class="nav-link" data-scroll-target="#graph-connectedness"><span class="toc-section-number">10.4</span>  Graph Connectedness</a></li>
  <li><a href="#graph-hierarchy" id="toc-graph-hierarchy" class="nav-link" data-scroll-target="#graph-hierarchy"><span class="toc-section-number">10.5</span>  Graph Hierarchy</a></li>
  <li><a href="#graph-efficiency" id="toc-graph-efficiency" class="nav-link" data-scroll-target="#graph-efficiency"><span class="toc-section-number">10.6</span>  Graph Efficiency</a></li>
  <li><a href="#advanced-topic-reciprocity-in-directed-weighted-graphs" id="toc-advanced-topic-reciprocity-in-directed-weighted-graphs" class="nav-link" data-scroll-target="#advanced-topic-reciprocity-in-directed-weighted-graphs"><span class="toc-section-number">10.7</span>  Advanced topic: Reciprocity in directed weighted graphs</a>
  <ul class="collapse">
  <li><a href="#notation" id="toc-notation" class="nav-link" data-scroll-target="#notation"><span class="toc-section-number">10.7.1</span>  Notation</a></li>
  <li><a href="#a-measure-of-dyadic-reciprocity-in-directed-weighted-graphs" id="toc-a-measure-of-dyadic-reciprocity-in-directed-weighted-graphs" class="nav-link" data-scroll-target="#a-measure-of-dyadic-reciprocity-in-directed-weighted-graphs"><span class="toc-section-number">10.7.2</span>  A Measure of Dyadic Reciprocity in Directed Weighted Graphs</a></li>
  <li><a href="#a-measure-of-graph-reciprocity-in-directed-weighted-graphs" id="toc-a-measure-of-graph-reciprocity-in-directed-weighted-graphs" class="nav-link" data-scroll-target="#a-measure-of-graph-reciprocity-in-directed-weighted-graphs"><span class="toc-section-number">10.7.3</span>  A Measure of Graph Reciprocity in Directed Weighted Graphs</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/olizardo/networks-textbook/blob/main/10-lesson-directed-graph-metrics.qmd" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Directed Graph Metrics</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>There are a number of graph metrics that makes the most sense to compute in <strong>directed graphs</strong>. In this lesson, we discuss the most important ones.</p>
<section id="the-dyad-census" class="level2 page-columns page-full" data-number="10.1">
<h2 data-number="10.1" class="anchored" data-anchor-id="the-dyad-census"><span class="header-section-number">10.1</span> The Dyad Census</h2>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-direx1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-direx1-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.1: A directed graph.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>When examining the structure of a social network composed of asymmetric edges, and represented as a directed graph, we may be interested in counting how many dyads of each type (<strong>mutual</strong>, <strong>asymmetric</strong>, and <strong>null</strong>) exist in the whole graph. This graph metric is called the <strong>dyad census</strong>. For instance, if we were to perform the dyad census on the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> we would end up with:</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-dyad-census" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: center;">Mutual</th>
<th style="text-align: center;">Asymmetric</th>
<th style="text-align: center;">Null</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">7</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.1: Dyad census of a directed graph.</div></div>
</div>
</div>
<p>The dyad census tells us that out of all the connected dyads in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a>, four of them are mutual: <span class="math inline">\(\{BD, CG, DE, FE\}\)</span>, and ten of them are asymmetric: <span class="math inline">\(\{AC, AE, BC, DF, EG, DF, EG, FA, FB, FG\}\)</span>.</p>
<p>The number of mutual dyads in a directed graph is represented by the symbol <span class="math inline">\(L^\leftrightarrow\)</span>. The number of asymmetric dyads, on the other hand is represented by the symbol <span class="math inline">\(L^\rightarrow\)</span>. Note that the cardinality of the edge set <span class="math inline">\(|E|\)</span> (a.k.a. the total number of edges) in a directed graph is therefore:</p>
<p><span class="math display">\[
    |E| = 2L^\leftrightarrow + L^\rightarrow
\]</span></p>
<p>Remember, we multiply the number of mutual dyads by two, because each mutual dyad is composed of two directed edges!</p>
<p>In the same way, the total number of <strong>connected dyads</strong> (<span class="math inline">\(L\)</span>) in a directed graph is:</p>
<p><span class="math display">\[
    L = L^\leftrightarrow + L^\rightarrow
\]</span></p>
<section id="advanced-topic-mechanics-of-the-dyad-census" class="level3 page-columns page-full" data-number="10.1.1">
<h3 data-number="10.1.1" class="anchored" data-anchor-id="advanced-topic-mechanics-of-the-dyad-census"><span class="header-section-number">10.1.1</span> Advanced topic: Mechanics of the dyad census</h3>
<p>Where the numbers in <a href="#tbl-dyad-census">Table&nbsp;<span class="quarto-unresolved-ref">tbl-dyad-census</span></a>) come from? Well, it turns out that they can be readily computed from the <strong>asymmetric adjacency matrix</strong> (<span class="math inline">\(A\)</span>)of the corresponding directed graph. The one corresponding to <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> is shown as <a href="#tbl-adj1">Table&nbsp;<span class="quarto-unresolved-ref">tbl-adj1</span></a>.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-adj1" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
<th style="text-align: left;">G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.2: Asymmetric adjancency matrix of a directed graph.</div></div>
</div>
</div>
<p>To find out the number of mutual dyads (<span class="math inline">\(L^\leftrightarrow\)</span>) all we need to do is cycle through the lower triangle of the matrix (cells below the main diagonal), and compute the product of that cell and the corresponding symmetric cell on the upper triangle (cells above the main diagonal).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>In matrix format:</p>
<p><span id="eq-mutual"><span class="math display">\[
  L^\leftrightarrow = \sum_{i&gt;j} a_{ij}a_{ji}
\tag{10.1}\]</span></span></p>
<p>Where the subscript below <span class="math inline">\(\sum\)</span> says to sum through the cells where the row subscript <em>i</em> is always larger than the column subscript <em>j</em> (lower triangle). The product of <span class="math inline">\(a_{ij}a_{ji}\)</span> will only equals one if the edges go in both directions <span class="math inline">\(a_{ij} = 1, a_{ji} = 1\)</span>, and the sum will equal the number of mutual dyads <span class="math inline">\(L^\leftrightarrow\)</span>.</p>
<p>Once we have <span class="math inline">\(L^\leftrightarrow\)</span> we can figure out <span class="math inline">\(L^\rightarrow\)</span>, the number of asymmetric dyads, using the formula (from <span class="citation" data-cites="wasserman_faust94">Wasserman and Faust (<a href="#ref-wasserman_faust94" role="doc-biblioref">1994</a>)</span>, p.&nbsp;512):</p>
<p><span id="eq-asymm"><span class="math display">\[
  L^\rightarrow = \sum_i \sum_j a_{ij} - 2L^\leftrightarrow
\tag{10.2}\]</span></span></p>
<p>Where the double <span class="math inline">\(\sum\)</span> indicates that we are summing through <em>all</em> the cells in the adjacency matrix (essentially counting all the cells that have a one in the matrix) and are subtracting twice the number of mutuals (because these dyads contribute two directed links each).</p>
</section>
</section>
<section id="advanced-topic-the-triad-census" class="level2 page-columns page-full" data-number="10.2">
<h2 data-number="10.2" class="anchored" data-anchor-id="advanced-topic-the-triad-census"><span class="header-section-number">10.2</span> Advanced Topic: The Triad Census</h2>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-triad-census" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NNN</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">NNA</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">NNM</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">AAN(O)</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AAN(I)</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">AAN(L)</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MAN(I)</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">MAN(O)</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AAA(I/O)</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">AAA(C)</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MMN</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">MAA(O)</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MAA(I)</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">MAA(C)</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MMA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">MMM</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.3: Triad census of a directed graph.</div></div>
</div>
</div>
<p>Just like we did in the case of directed dyads, it is possible to go through a directed graph and count the number of directed triadic motifs. This is called the <strong>triad census</strong> and was developed by sociologists and mathematicians working together in the 1970s <span class="citation" data-cites="davis_leinhardt72">(<a href="#ref-davis_leinhardt72" role="doc-biblioref">Davis and Leinhardt 1972</a>)</span>. For instance, if we were to perform the triad census on the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> we would end up with the counts shown in <a href="#tbl-triad-census">Table&nbsp;<span class="quarto-unresolved-ref">tbl-triad-census</span></a>). For your reference, the sixteen triadic configurations are shown in <a href="#fig-dirtriads">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirtriads</span></a>.</p>
</section>
<section id="graph-reciprocity" class="level2 page-columns page-full" data-number="10.3">
<h2 data-number="10.3" class="anchored" data-anchor-id="graph-reciprocity"><span class="header-section-number">10.3</span> Graph Reciprocity</h2>
<p>Recall from our discussion in the lesson of types of graphs, that asymmetric relations in a directed graph have an important property that symmetric relations in an undirected graph lack: <strong>Reciprocity</strong>. That is, connected dyads in directed graphs can be either <strong>mutual</strong> (with directed edges going in both directions) or <strong>asymmetric</strong> with (with directed edges going only in one direction). So for instance, in the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> the connected <span class="math inline">\(BD\)</span> dyad is mutual, but the <span class="math inline">\(FB\)</span> dyad is asymmetric.</p>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-direx2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-direx2-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.2: Another directed graph.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>In some applications we may be interested in Figuring out the extent to which the <em>whole graph</em> is more or less likely to contain mutual as opposed to asymmetric dyads. This metric is called <strong>Graph Reciprocity</strong> and is usually written as <span class="math inline">\(R(G)\)</span>. For instance, if we compare the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> to the one shown in <a href="#fig-direx2">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx2</span></a> it seems like there’s much more reciprocity going in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> than in <a href="#fig-direx2">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx2</span></a>. How can we quantify it?</p>
<p>Well, the count of the different types of directed dyads provided by the dyad census in <a href="#tbl-dyad-census">Table&nbsp;<span class="quarto-unresolved-ref">tbl-dyad-census</span></a>) provide us with the information we need. Accordingly, if we wanted to quantify the <em>amount</em> of reciprocity in the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a>, we could do it by computing the following ratio <span class="citation" data-cites="krackhardt94">(<a href="#ref-krackhardt94" role="doc-biblioref">Krackhardt 1994</a>)</span>:</p>
<p><span id="eq-lratio"><span class="math display">\[
    R(G) = \frac{L^\leftrightarrow}{L}
\tag{10.3}\]</span></span></p>
<p>In our example, this would be: <span class="math display">\[
    R(G) = \frac{4}{4 + 10} = \frac{4}{14} = 0.29
\]</span></p>
<p>Note that in a graph in which <em>all</em> dyads are mutual (<span class="math inline">\(L^\rightarrow =0\)</span>), then <span class="math inline">\(R = \frac{L^\leftrightarrow}{L^\leftrightarrow} = 1\)</span>, the theoretical maximum of graph reciprocity. Conversely, a graph with no mutual dyads, <span class="math inline">\(L^\leftrightarrow = 0\)</span>, then <span class="math inline">\(R = 0\)</span>. For instance, a <strong>tree graph</strong> composed of all anti-symmetric edges (which by definition cannot be mutual), will always have <span class="math inline">\(R=0\)</span>.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-dyad-census2" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: center;">Mutual</th>
<th style="text-align: center;">Asymmetric</th>
<th style="text-align: center;">Null</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">10</td>
<td style="text-align: center;">10</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.4: Dyad census of a directed graph.</div></div>
</div>
</div>
<p>The dyad census corresponding to the directed graph shown in <a href="#fig-direx2">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx2</span></a> is shown in <a href="#tbl-dyad-census2">Table&nbsp;<span class="quarto-unresolved-ref">tbl-dyad-census2</span></a>). Can you figure out the graph reciprocity?</p>
</section>
<section id="graph-connectedness" class="level2 page-columns page-full" data-number="10.4">
<h2 data-number="10.4" class="anchored" data-anchor-id="graph-connectedness"><span class="header-section-number">10.4</span> Graph Connectedness</h2>
<p>Recall that in our discussion of indirect relationships, we found that paths work differently in undirected versus directed graphs. In an undirected graph, if we know the graph is connected (it is not split into separate components), then we also know that every node can reach every other node via a an undirected path of some length, even if that path is very long. The reason is that undirected paths are <em>symmetric</em>: In an undirected graph, if a path exists with node <em>A</em> as source and node <em>B</em> as destination, then necessarily a path also exists with node <em>B</em> as source and node <em>A</em> as destination. In an undirected graph that is also connected, all nodes are <strong>mutually reachable</strong> by construction.</p>
<p>In a directed graph, things work differently. Directed paths are asymmetric. This means that In a directed graph, a path may have node <em>A</em> as source and node <em>B</em> as destination. However, this does not necessarily mean a path also exists with node <em>B</em> as source and node <em>A</em> as destination. It could (in which case the two nodes are strongly connected), but it could also not (in which case the nodes are only unilaterally connected). This means that in a directed graph, connectivity is a matter of more or less rather than all or none as it is in the undirected case.</p>
<p>This means that we can compute a metric telling us the extent to which a directed graph is connected. To do this, we can use the <strong>reachability matrix</strong> as we defined it in the lesson on social network matrices. Recall that the reachability matrix <strong>R</strong> is a square matrix with the nodes on the row and columns. Each cell of the reachability contains a <span class="math inline">\(r_{ij} = 1\)</span> if node <em>i</em> can reach node <em>j</em> and a <span class="math inline">\(r_{ij} = 0\)</span> otherwise.</p>
<p>Consider for instance the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a>. The corresponding reachability matrix is shown as <a href="#tbl-reachmat1">Table&nbsp;<span class="quarto-unresolved-ref">tbl-reachmat1</span></a>.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-reachmat1" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
<th style="text-align: left;">G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.5: Reachability matrix for a directed graph.</div></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4761905</code></pre>
</div>
</div>
<p>Every zero in the reachability matrix represents an actor who cannot reach another actor. These are “gaps” of reachability in the social system which may impair efficiency, coordination, and adaptability in the group <span class="citation" data-cites="krackhardt94">(<a href="#ref-krackhardt94" role="doc-biblioref">Krackhardt 1994</a>)</span>. The less zeroes there are in the reachability matrix, the more connected the network is. So we can calculate graph connectedness directly from the reachability matrix <strong>R</strong>, just by summing up the value of all the cells of the reachability matrix and dividing this sum by the total number of cells. This can be expressed using the following formula:</p>
<p><span id="eq-connect"><span class="math display">\[
  C = \frac{\sum_i \sum_j r_{ij}}{N(N-1)}
\tag{10.4}\]</span></span></p>
<p>Where the double <span class="math inline">\(\sum\)</span> like in <a href="#eq-asymm">Equation&nbsp;<span class="quarto-unresolved-ref">eq-asymm</span></a> indicates summing across all the cells in the matrix, and <span class="math inline">\(N(N-1)\)</span> is the number of (non-diagonal) cells. A reachability matrix corresponding to a graph with no connectedness violations will have a numerator that is equal total number of cells in the matrix (which is the same as the number of edges of the corresponding <strong>complete graph</strong> of the same order). A graph with some connectedness violations where the sum of the cells (<span class="math inline">\(\sum_i\sum_j r_{ij}\)</span>) is less than <span class="math inline">\(N(N-1)\)</span> will have a connectedness score between zero and one.</p>
<p>For instance, for the reachability matrix shown in <a href="#tbl-reachmat1">Table&nbsp;<span class="quarto-unresolved-ref">tbl-reachmat1</span></a>, the numerator in the fraction corresponding to <a href="#eq-connect">Equation&nbsp;<span class="quarto-unresolved-ref">eq-connect</span></a> is:</p>
<p><span class="math display">\[
  \sum_i \sum_j r_{ij} = 32
\]</span></p>
<p>The denominator is: <span class="math display">\[
  N(N-1) = 7 \times (7 - 1) = 42
\]</span></p>
<p>And the graph connectedness score is:</p>
<p><span class="math display">\[
  C = \frac{32}{42} = 0.76
\]</span></p>
<p>Which tells us that while not a perfect <span class="math inline">\(1.0\)</span>, <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> is still a pretty well-connected social network!</p>
</section>
<section id="graph-hierarchy" class="level2 page-columns page-full" data-number="10.5">
<h2 data-number="10.5" class="anchored" data-anchor-id="graph-hierarchy"><span class="header-section-number">10.5</span> Graph Hierarchy</h2>
<p>In a hierarchical social structure, things (like commands, orders, authority, and influence) tend to flow in <strong>one direction</strong>: From the boss to the middle manager, from the general to the lieutenant, from the parent to the child. The tree graph we considered before, full of <strong>anti-symmetric</strong> links going in one direction only, is thus the perfect model of a purely hierarchical structure in social networks. One version is shown in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a>.</p>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-treegrgr" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-treegrgr-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.3: A tree graph.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>In <a href="#tbl-reachmat1">Table&nbsp;<span class="quarto-unresolved-ref">tbl-reachmat1</span></a>, we derived the corresponding reachability matrix for that directed graph. Now let us do the same, but this time for a tree graph describing hierarchical anti-symmetric relations like the one shown in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a>. <a href="#tbl-treereachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-treereachmat</span></a> shows the results.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-treereachmat" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
<th style="text-align: left;">G</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">E</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">F</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.6: Reachability matrix for an anti-symmetric tree graph.</div></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>One interesting thing to observe about the reachability matrix shown in <a href="#tbl-treereachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-treereachmat</span></a> is that it only has non-zero entries above the diagonal, in what we called the <strong>upper triangle</strong> of the matrix in the lesson on network matrices. Recall this are cells in which the row index <em>i</em> is always smaller than the column index <em>j</em>. You can see for yourself that all the cells in which the row index is larger than the column index (the <strong>lower triangle</strong> of the matrix) are indeed all zero.</p>
<p>The other thing to observe is that the reachability matrix of a tree graph <em>encodes the authority or hierarchical structure of the tree graph</em>. This is easy to see by the fact that the row corresponding to the “top” node (<em>A</em>) is full of ones. This says that this node can reach every other node in the graph via some path. So if this was the general in an army, they could influence every other node, by giving an order to the people directly connected to them (e.g., <em>B</em>, or <em>C</em>) and then they would pass it down to the others.</p>
<p>Now if we look at <em>A</em>’s <em>column</em>, we see that it is full of zeroes, indicating that while <em>A</em> can reach everybody, no one can reach them back. The same goes for every level; the nodes at the top can reach the ones at the bottom, but they can’t reach them back. This is why the lower triangle of the matrix has to be made up of all zeroes, and why it encodes the idea that in a tree, things only flow in one direction (downwards, from the top to the bottom).</p>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-rectree" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-rectree-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.4: An asymmetric graph arranged as a tree.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Now let’s break the anti-symmetry principle and add some reciprocal directed ties to the network shown in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a>, keeping the same set of nodes. This transforms the graph from an anti-symmetric to an asymmetric one. The new graph is shown as <a href="#fig-rectree">Figure&nbsp;<span class="quarto-unresolved-ref">fig-rectree</span></a>. In this network, node <em>B</em> sends a reciprocal link to <em>A</em>, node <em>D</em> sends a reciprocal link to <em>B</em>, and <em>G</em> reciprocates their tie to **C*. The reachability matrix for this graph, is shown in <a href="#tbl-asymmreachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-asymmreachmat</span></a>.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="tbl-asymmreachmat" class="anchored page-columns page-full">
<table class="table table-sm table-striped">

<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">G</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">D</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">G</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">E</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">F</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">–</td>
</tr>
</tbody>
</table>
<div class="quarto-table-caption margin-caption">Table&nbsp;10.7: Reachability matrix for an asymmetric graph.</div></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7777778</code></pre>
</div>
</div>
<p>Note that one big difference between <a href="#tbl-treereachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-treereachmat</span></a> and <a href="#tbl-asymmreachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-asymmreachmat</span></a> is that <a href="#tbl-asymmreachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-asymmreachmat</span></a> now features some non-zero entries in the lower-triangle. So it seems like the lower triangle in the reachability matrix of an asymmetric graph, records <em>anti-symmetry violations</em>.</p>
<p>Another big difference between <a href="#tbl-treereachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-treereachmat</span></a> and <a href="#tbl-asymmreachmat">Table&nbsp;<span class="quarto-unresolved-ref">tbl-asymmreachmat</span></a> is that now nodes <em>B</em> and <em>D</em>, like <em>A</em> in the original tree graph, can reach everybody else in the network. They can do that because now they can reach <em>A</em>, and since <em>A</em> could reach everyone initially, they can do so through that node.</p>
<p>Thus, if we think of the tree graph as representing a purely <em>hierarchical</em> structure, in which authority, influence, orders, and so forth only flow in one direction, then the addition of reciprocity into the structure can be seen as a relaxation of the hierarchy principle. In <a href="#fig-rectree">Figure&nbsp;<span class="quarto-unresolved-ref">fig-rectree</span></a> <em>A</em> doesn’t just influence or order <em>B</em> around in a unidirectional way like they do in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a>, <em>B</em> can “talk back”, or exert influence upon <em>A</em> and so forth. So by adding asymmetric reciprocal links, we have made the graph less hierarchical.</p>
<p>This insight can be taken as motivation to develop a graph metric called <strong>graph hierarchy</strong> <span class="citation" data-cites="krackhardt94">(<a href="#ref-krackhardt94" role="doc-biblioref">Krackhardt 1994</a>)</span>. The measure is simple. It is equal to the number of <strong>unilaterally reachable</strong> (<span class="math inline">\(U^r\)</span>) pairs of nodes in the graph to the total number of <strong>connected pairs</strong> in the graph (<span class="math inline">\(E^r\)</span>). The total number of connected pairs, in turn is given by the sum of mutually reachable (<span class="math inline">\(M^r\)</span>) and unilaterally connected (<span class="math inline">\(U^r\)</span>) pairs.</p>
<p><span id="eq-hier"><span class="math display">\[
    H(G) = \frac{U^r}{M^r + U^r}
\tag{10.5}\]</span></span></p>
<p>The graph hierarchy (<span class="math inline">\(H(G)\)</span>) score in <a href="#eq-hier">Equation&nbsp;<span class="quarto-unresolved-ref">eq-hier</span></a> is maximized (<span class="math inline">\(H(G) = 1\)</span>) when there are no mutually reachable connected pairs in the graph (<span class="math inline">\(M^r = 0\)</span>). It is at its minimum (<span class="math inline">\(H(G) = 0\)</span>) when all the connected pairs are mutually reachable <span class="math inline">\(U^r = 0\)</span>. Note that this ratio is similar measure of <strong>reciprocity</strong> for non-valued directed graphs discussed earlier, but applied to the reachability matrix instead of the adjacency matrix <span class="citation" data-cites="krackhardt94">(<a href="#ref-krackhardt94" role="doc-biblioref">Krackhardt 1994</a>)</span>. Except that here we are interested in non-reciprocal (unilateral) relations in the reachability matrix not the adjacency matrix. Like before, we can find out <span class="math inline">\(M^r\)</span> by using a variation of <a href="#eq-mutual">Equation&nbsp;<span class="quarto-unresolved-ref">eq-mutual</span></a> but applied to the reachability matrix instead of the adjacency matrix:</p>
<p><span id="eq-mutualreach"><span class="math display">\[
  M^r = \sum_{i&gt;j} r_{ij}r_{ji}
\tag{10.6}\]</span></span></p>
<p>Where the subscript below <span class="math inline">\(\sum\)</span> says to sum through the cells where the row subscript <em>i</em> is always larger than the column subscript <em>j</em> (lower triangle of the reachability matrix). The product of <span class="math inline">\(r_{ij}r_{ji}\)</span> will only equal one if two nodes are <em>i</em> and <em>j</em> are mutualy reachable <span class="math inline">\(r_{ij} = 1, r_{ji} = 1\)</span>, and the sum will equal the number of mutually reachable dyads in the graph <span class="math inline">\(M^r\)</span>.</p>
<p>Once we have <span class="math inline">\(M^r\)</span> we can figure out <span class="math inline">\(U^r\)</span>, the number of unilaterally connected dyads, using a variation of <a href="#eq-asymm">Equation&nbsp;<span class="quarto-unresolved-ref">eq-asymm</span></a>:</p>
<p><span id="eq-unireach"><span class="math display">\[
  A = \sum_i \sum_j r_{ij} - 2M^r
\tag{10.7}\]</span></span></p>
<p>Recall that we know that a reachability relation is unilateral, just in case every time a node <em>A</em> can reach a node <em>B</em> then <em>B</em> is unable reach <em>A</em> via a directed path in the graph. The tree graph has that property for all pairs of nodes. This implies that tree graphs display maximum graph hierarchy: In a tree graph, <span class="math inline">\(M^r = 0\)</span> and therefore <span class="math inline">\(H(G) = 1.0\)</span>. A completely reciprocal reachability matrix, on the other hand, where every pair of nodes is mutually reachable, implies minimum graph hierarchy, with <span class="math inline">\(H(G) = 0\)</span>.</p>
<p>Applying <a href="#eq-hier">Equation&nbsp;<span class="quarto-unresolved-ref">eq-hier</span></a> to the tree graph shown in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a> gives us the expected value of <span class="math inline">\(1.0\)</span>, but applying the same equation to the asymmetric graph shown in <a href="#fig-rectree">Figure&nbsp;<span class="quarto-unresolved-ref">fig-rectree</span></a> gives us the value of <span class="math inline">\(H(G) = 0.77\)</span>, which is pretty high, but also shows that this network structure is less hierarchical than the pure anti-symmetric tree. Overall, the closer to zero the <span class="math inline">\(H(G)\)</span> score is, the less hierarchical the structure. For instance, the graph hierarchy score corresponding to the graph shown in <a href="#fig-direx1">Figure&nbsp;<span class="quarto-unresolved-ref">fig-direx1</span></a> is <span class="math inline">\(H(G) = 0.47\)</span>, showing that this network is even less hierarchical than the one shown in <a href="#fig-rectree">Figure&nbsp;<span class="quarto-unresolved-ref">fig-rectree</span></a>.</p>
</section>
<section id="graph-efficiency" class="level2" data-number="10.6">
<h2 data-number="10.6" class="anchored" data-anchor-id="graph-efficiency"><span class="header-section-number">10.6</span> Graph Efficiency</h2>
<p>Tree graphs like the one shown in <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a> have another interesting property. The number of links in a tree is <em>always</em> equal to the number of nodes minus one! That is, in a tree graph <span class="math inline">\(E = N - 1\)</span>. You can go back to <a href="#fig-treegrgr">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrgr</span></a> and check for yourself. We have seven nodes <span class="math inline">\(N\)</span> and six links <span class="math inline">\(E\)</span> and <span class="math inline">\(6 = 7 -1\)</span>. That’s neat!</p>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-treegrmiss" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-treegrmiss-1.png" class="img-fluid figure-img" width="576"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.5: A tree graph that is missing one link.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>This means that trees are networks that have the <em>minimum</em> number of links to keep them connected. If you remove even <em>one</em> node from a tree you create a connectivity gap in the structure, splitting the graph into separate components. Like the one shown in <a href="#fig-treegrmiss">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrmiss</span></a>. After removing the <span class="math inline">\(BE\)</span> link node <span class="math inline">\(E\)</span> becomes isolated from the rest. The same would happen (creating disconnected clumps) if we were to remove any other link from <a href="#fig-treegrmiss">Figure&nbsp;<span class="quarto-unresolved-ref">fig-treegrmiss</span></a>.</p>
</section>
<section id="advanced-topic-reciprocity-in-directed-weighted-graphs" class="level2" data-number="10.7">
<h2 data-number="10.7" class="anchored" data-anchor-id="advanced-topic-reciprocity-in-directed-weighted-graphs"><span class="header-section-number">10.7</span> Advanced topic: Reciprocity in directed weighted graphs</h2>
<p>One phenomenon we can better understand using weighted graphs is the idea of reciprocity. Take for instance <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>, which shows a <strong>directed weighted graph</strong>, with the same set of nodes and edges as <a href="#fig-directed">Figure&nbsp;<span class="quarto-unresolved-ref">fig-directed</span></a>. Like all directed graphs, we can see that there are three kinds of dyads: <strong>mutual</strong>, <strong>asymmetric</strong> and <strong>null</strong>). This could represent the social network created by the flow of directed communications (e.g., emails or text messages send <em>from</em> one person <em>to</em> another) in an office or work group.</p>
<p>In unweighted directed graphs, we tend to say that two nodes that are part of a mutual dyad have a reciprocal relationship. So if we were going by a binary (on or off) idea, of reciprocity, we would say that all the mutual dyads in <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>, such as <span class="math inline">\(AB\)</span>, <span class="math inline">\(AF\)</span>, and <span class="math inline">\(BD\)</span> are reciprocal. But as we said, when it comes to the sort of interactions that are best captured in a weighted graph, reciprocity is a matter of more or less, not all or none. The weights (<span class="math inline">\(w\)</span>) provide a richer picture of what’s going on in the network.</p>
<section id="notation" class="level3" data-number="10.7.1">
<h3 data-number="10.7.1" class="anchored" data-anchor-id="notation"><span class="header-section-number">10.7.1</span> Notation</h3>
<p>Let us come up with some notation. In a directed weighted graph, the weight of the directed edge going from source node <em>A</em> to source destination node <em>B</em> is referred to as <span class="math inline">\(w_{AB}\)</span>. In the graph shown in in <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>, <span class="math inline">\(w_{AB} = 17\)</span>. If the dyad is mutual, we would refer to the directed edge coming from source node <em>B</em> to destination node <em>A</em> as <span class="math inline">\(w_{BA}\)</span>. As you can see, <span class="math inline">\(w_{BA}=20\)</span>.</p>
<div class="cell" data-fig-cap-location="margin">
<div class="cell-output-display">
<div id="fig-dirweighted" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="10-lesson-directed-graph-metrics_files/figure-html/fig-dirweighted-1.png" class="img-fluid figure-img" width="864"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;10.6: A directed weighted graph</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Are mutual dyads in a directed weighted graph necessarily “reciprocal”? The answer is no. For instance, in <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>, the relationship between <em>B</em> and <em>D</em> seems to be very uneven; <em>B</em> sent thirty messages to <em>D</em> (<span class="math inline">\(w_{BD} = 30\)</span>) but <em>D</em> only sends two messages back (<span class="math inline">\(w_{BD} = 2\)</span>). So we would say that reciprocity definitely seems to be lacking in the <span class="math inline">\(BD\)</span> dyad.</p>
<p>The relationship between <em>A</em> and <em>B</em> that we considered earlier, on the hand, seems much more even (twenty versus seventeen) So there is more reciprocity in the <span class="math inline">\(AB\)</span> dyad than there is in the <span class="math inline">\(BD\)</span> dyad even though both dyads are “mutual” going by the unweighted graph criterion.</p>
<p>Perhaps <em>B</em> does not think much of <em>D</em> or thinks that <em>D</em> is pestering them with too many messages. Lack of weighted reciprocity may be indicative of the quality of the relationship between <em>B</em> and <em>D</em>.</p>
</section>
<section id="a-measure-of-dyadic-reciprocity-in-directed-weighted-graphs" class="level3" data-number="10.7.2">
<h3 data-number="10.7.2" class="anchored" data-anchor-id="a-measure-of-dyadic-reciprocity-in-directed-weighted-graphs"><span class="header-section-number">10.7.2</span> A Measure of Dyadic Reciprocity in Directed Weighted Graphs</h3>
<p>Is there a way to quantify the amount of reciprocity in mutual dyads in directed graphs? The answer is yes <span class="citation" data-cites="squartini13">(<a href="#ref-squartini13" role="doc-biblioref">Squartini et al. 2013</a>)</span>. The trick is to separate the amount of interaction in the edge weights (<span class="math inline">\(w\)</span>) that is “reciprocal” from the amount that is “non-reciprocal.”</p>
<p>For instance, let’s go back to the <span class="math inline">\(AB\)</span> dyad in <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>. If these were messages going back and forth, then we would say that <em>A</em> and <em>B</em> are even in seventeen of those messages. This is called the <strong>reciprocated weight</strong> of the <span class="math inline">\(AB\)</span> mutual dyad. So in a mutual weighted dyad, the reciprocated weight (let’s call it <span class="math inline">\(w_{ij}^\leftrightarrow\)</span>) will always be equal to the smallest of the two weights! Note this also means that <span class="math inline">\(w_{ij}^\leftrightarrow\)</span> will always be equal to <span class="math inline">\(w_{ji}^\leftrightarrow\)</span>.</p>
<p>In equation form:</p>
<p><span id="eq-wrecip"><span class="math display">\[
   w^\leftrightarrow_{ij} = \min(w_{ij}, w_{ji})
\tag{10.8}\]</span></span></p>
<p>Where <em>i</em> and <em>j</em> are just our generic stand ins for any pair of nodes in the graph <span class="math inline">\({A, B, C...}\)</span>, and <em>min</em> is the symbol for the mathematical operation of “take the minimum” of a set of numbers (e.g., <span class="math inline">\(\min(1, 2, 3) = 1\)</span> and <span class="math inline">\(\min(10, 100) = 10\)</span>). So, <span class="math inline">\(w^\leftrightarrow_{AB} = \min(20,17) = 17\)</span>.</p>
<p>Now, once we have <span class="math inline">\(w^\leftrightarrow_{ij}\)</span>, we can compute how much directed non-reciprocity goes from one node to the other. This called the <strong>non-reciprocated weight</strong> of the mutual tie (let’s call it <span class="math inline">\(w^\rightarrow_{ij}\)</span>). To figure this out, we subtract reciprocated weight from the directed weight going from one node to another:</p>
<p>In equation form:</p>
<p><span id="eq-wnrecip"><span class="math display">\[
   w^\rightarrow_{ij} = w_{ij} - w^\leftrightarrow_{ij}
\tag{10.9}\]</span></span></p>
<p>Note that the non-reciprocated weight of the tie will either be equal to zero if the <em>i</em> node is the who contributes less to the relationship, or it will be a number larger than zero, if the <em>i</em> node is the one who contributes more. So for the <span class="math inline">\(AB\)</span> dyad in <a href="#fig-dirweighted">Figure&nbsp;<span class="quarto-unresolved-ref">fig-dirweighted</span></a>, <span class="math inline">\(w^\rightarrow_{AB} = 17 - 17 = 0\)</span> and <span class="math inline">\(w^\rightarrow_{BA} = 20 -17 = 3\)</span>.</p>
</section>
<section id="a-measure-of-graph-reciprocity-in-directed-weighted-graphs" class="level3" data-number="10.7.3">
<h3 data-number="10.7.3" class="anchored" data-anchor-id="a-measure-of-graph-reciprocity-in-directed-weighted-graphs"><span class="header-section-number">10.7.3</span> A Measure of Graph Reciprocity in Directed Weighted Graphs</h3>
<p>Above, we used the <strong>dyad census</strong> to come up with a measure of the extent to which a directed graph is reciprocal, which we called <span class="math inline">\(R(G)\)</span>. We can do something similar for the case of directed weighted graphs. Recall that <span class="math inline">\(R(G)\)</span> is just a ratio of the number of mutual dyads <span class="math inline">\(L^\leftrightarrow\)</span> to the total number of directed edges (<span class="math inline">\(E\)</span>). In the weighted directed case, we can compute <span class="math inline">\(R^w(G)\)</span>, which is a ratio of the <em>sum of the reciprocated weight of all dyads</em> to the <em>total sum of the weights across each directed edge in the graph</em>.</p>
<p>In equation form:</p>
<p><span id="eq-grwrecip"><span class="math display">\[
   R^w(G) = \frac{\sum_i \sum_{i \neq j} w_{ij}^\leftrightarrow}{\sum_i \sum_{i \neq j} w_{ij}}
\tag{10.10}\]</span></span></p>
</section>
</section>
<section id="references" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="references">References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-davis_leinhardt72" class="csl-entry" role="doc-biblioentry">
Davis, James A, and Samuel Leinhardt. 1972. <span>“The Structure of Positive Interpersonal Relations in Small Groups.”</span> In <em>Sociological Theories in Progress, Volume 2</em>, 218–51. Boston: Houghton Mifflin.
</div>
<div id="ref-krackhardt94" class="csl-entry" role="doc-biblioentry">
Krackhardt, David. 1994. <span>“Graph Theoretical Dimensions of Informal Organizations.”</span> <em>Computational Organization Theory</em> 89 (112): 123–40.
</div>
<div id="ref-squartini13" class="csl-entry" role="doc-biblioentry">
Squartini, Tiziano, Francesco Picciolo, Franco Ruzzenenti, and Diego Garlaschelli. 2013. <span>“Reciprocity of Weighted Networks.”</span> <em>Scientific Reports</em> 3: 2729.
</div>
<div id="ref-wasserman_faust94" class="csl-entry" role="doc-biblioentry">
Wasserman, Stanley, and Katherine Faust. 1994. <span>“Social Network Analysis: Methods and Applications.”</span>
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>In a matrix, if you have a cell with row and column subscripts <span class="math inline">\(a_{4, 3}\)</span>, which says “the cell corresponding to row four and column three”, then the <strong>symmetric cell</strong> is the one with the row and column subscripts switched around: <span class="math inline">\(a_{3, 4}\)</span>, which says “the cell corresponding to row three and column four.”<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./9-lesson-degree-based-graph-metrics.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Degree-Based Graph Metrics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./11-lesson-egonet-metrics.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Ego Network Metrics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>